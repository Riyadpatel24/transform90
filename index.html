<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#7c3aed">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json">
  <title>90 Day Transformation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <script type="text/babel">
    const { useState, useEffect } = React;

    window.storage = {
      get: async (key) => {
        const val = localStorage.getItem(key);
        return val ? { key, value: val } : null;
      },
      set: async (key, value) => {
        localStorage.setItem(key, value);
        return { key, value };
      }
    };

    const App = () => {
      const [currentDay, setCurrentDay] = useState(1);
      const [level, setLevel] = useState(1);
      const [dailyTasks, setDailyTasks] = useState({
        workout: false, gameDev: false, sleep: false, vanTime: false,
        reading: false, waterIntake: false, earlyWake: false, meditation: false,
        skillLearning: false, socialSkills: false
      });
      const [gameDevTask, setGameDevTask] = useState('');
      const [vanActivity, setVanActivity] = useState('');
      const [currentBook, setCurrentBook] = useState('Atomic Habits');
      const [bookProgress, setBookProgress] = useState({
        'Atomic Habits': 0, 'Ikigai': 0, 'The Art of Being Alone': 0,
        'The Psychology of Money': 0, 'Rich Dad Poor Dad': 0,
        'Ego is the Enemy': 0, 'Zero to One': 0
      });
      const [reflection, setReflection] = useState({ win: '', improve: '' });
      const [weeklyData, setWeeklyData] = useState([]);
      const [streak, setStreak] = useState(0);
      const [consecutiveMisses, setConsecutiveMisses] = useState(0);
      const [showWeeklyReview, setShowWeeklyReview] = useState(false);
      const [showLevelUp, setShowLevelUp] = useState(false);
      const [showBookComplete, setShowBookComplete] = useState(false);
      const [perfectDaysAtLevel, setPerfectDaysAtLevel] = useState(0);

      const books = ['Atomic Habits', 'Ikigai', 'The Art of Being Alone', 
                     'The Psychology of Money', 'Rich Dad Poor Dad', 
                     'Ego is the Enemy', 'Zero to One'];

      const levels = {
        1: {
          name: "FOUNDATION", wakeTime: "5:30 AM",
          tasks: { weekday: ['workout', 'vanTime', 'gameDev', 'sleep'],
                   weekend: ['workout', 'reading', 'gameDev', 'sleep'] },
          requirements: "7 perfect days", unlockAt: 7,
          description: "Build the basics. Prove you can show up.",
          workout: "10 push-ups ‚Ä¢ 20 squats ‚Ä¢ 30s plank", newHabits: []
        },
        2: {
          name: "MOMENTUM", wakeTime: "5:30 AM",
          tasks: { weekday: ['workout', 'vanTime', 'gameDev', 'sleep', 'reading', 'waterIntake'],
                   weekend: ['workout', 'reading', 'gameDev', 'sleep', 'waterIntake'] },
          requirements: "10 perfect days", unlockAt: 10,
          description: "Mental + physical health habits.",
          workout: "15 push-ups ‚Ä¢ 30 squats ‚Ä¢ 45s plank ‚Ä¢ 20 lunges",
          newHabits: [
            { name: "Daily Reading", icon: "üìö", detail: "15min from your books" },
            { name: "2L Water", icon: "üíß", detail: "Track daily" }
          ]
        },
        3: {
          name: "DISCIPLINE", wakeTime: "4:45 AM",
          tasks: { weekday: ['earlyWake', 'workout', 'vanTime', 'gameDev', 'sleep', 'reading', 'waterIntake', 'meditation'],
                   weekend: ['earlyWake', 'workout', 'reading', 'gameDev', 'sleep', 'waterIntake', 'meditation'] },
          requirements: "14 perfect days", unlockAt: 14,
          description: "Early riser. Mental clarity.",
          workout: "20 push-ups ‚Ä¢ 40 squats ‚Ä¢ 60s plank ‚Ä¢ 30 lunges ‚Ä¢ 15 burpees",
          newHabits: [
            { name: "4:45 AM Wake", icon: "‚è∞", detail: "No snooze" },
            { name: "10min Meditation", icon: "üßò", detail: "Mental clarity" }
          ]
        },
        4: {
          name: "UNSTOPPABLE", wakeTime: "4:45 AM",
          tasks: { weekday: ['earlyWake', 'workout', 'vanTime', 'gameDev', 'sleep', 'reading', 'waterIntake', 'meditation', 'skillLearning', 'socialSkills'],
                   weekend: ['earlyWake', 'workout', 'reading', 'gameDev', 'sleep', 'waterIntake', 'meditation', 'skillLearning', 'socialSkills'] },
          requirements: "Maintain for 90 days", unlockAt: null,
          description: "Full transformation.",
          workout: "3 sets: 15 push-ups ‚Ä¢ 30 squats ‚Ä¢ 60s plank",
          newHabits: [
            { name: "Extra Skill", icon: "üíª", detail: "2nd learning block" },
            { name: "Social Practice", icon: "üí¨", detail: "Conversation" }
          ]
        }
      };

      const messages = [
        "Discipline is doing it even when you don't feel like it.",
        "Your future self is watching. Make her proud.",
        "Small daily wins = massive transformation.",
        "You said you wouldn't quit. Prove it.",
        "Consistency over perfection. Show up today.",
        "The body you want is built in days like this.",
        "One focused hour at a time.",
        "Your vision requires daily action.",
        "Doubt kills more dreams than failure ever will.",
        "You're becoming her. One day at a time."
      ];

      const getDailyMessage = () => messages[currentDay % messages.length];
      const isWeekday = () => new Date().getDay() >= 1 && new Date().getDay() <= 4;
      const getActiveTasks = () => levels[level].tasks[isWeekday() ? 'weekday' : 'weekend'];

      const checkLevelUp = () => {
        const currentLevel = levels[level];
        if (currentLevel.unlockAt && perfectDaysAtLevel >= currentLevel.unlockAt) {
          setShowLevelUp(true);
          setLevel(prev => prev + 1);
          setPerfectDaysAtLevel(0);
        }
      };

      useEffect(() => { loadData(); }, []);

      const loadData = async () => {
        try {
          const data = await window.storage.get('tracker-data');
          if (data) {
            const p = JSON.parse(data.value);
            setCurrentDay(p.currentDay || 1);
            setLevel(p.level || 1);
            setStreak(p.streak || 0);
            setWeeklyData(p.weeklyData || []);
            setConsecutiveMisses(p.consecutiveMisses || 0);
            setPerfectDaysAtLevel(p.perfectDaysAtLevel || 0);
            setCurrentBook(p.currentBook || 'Atomic Habits');
            setBookProgress(p.bookProgress || bookProgress);
          }
        } catch (e) { console.log('First time'); }
      };

      const saveData = async (data) => {
        try { await window.storage.set('tracker-data', JSON.stringify(data)); }
        catch (e) { console.error('Save failed'); }
      };

      const toggleTask = (task) => setDailyTasks(prev => ({ ...prev, [task]: !prev[task] }));

      const completeDay = async () => {
        const activeTasks = getActiveTasks();
        const allDone = activeTasks.every(task => dailyTasks[task]);
        const newStreak = allDone ? streak + 1 : 0;
        const newMisses = allDone ? 0 : consecutiveMisses + 1;
        const newPerfectDays = allDone ? perfectDaysAtLevel + 1 : perfectDaysAtLevel;
        
        if (dailyTasks.reading) {
          const newProgress = { ...bookProgress };
          newProgress[currentBook] += 1;
          if (newProgress[currentBook] >= 100) {
            newProgress[currentBook] = 100;
            setShowBookComplete(true);
          }
          setBookProgress(newProgress);
        }
        
        const newWeeklyData = [...weeklyData, {
          day: currentDay, level, date: new Date().toLocaleDateString(),
          completed: allDone, tasks: { ...dailyTasks }, gameDevTask, vanActivity, reflection
        }];
        
        await saveData({
          currentDay: currentDay + 1, level, streak: newStreak, weeklyData: newWeeklyData,
          consecutiveMisses: newMisses, perfectDaysAtLevel: newPerfectDays, currentBook, bookProgress
        });
        
        setCurrentDay(prev => prev + 1);
        setStreak(newStreak);
        setWeeklyData(newWeeklyData);
        setConsecutiveMisses(newMisses);
        setPerfectDaysAtLevel(newPerfectDays);
        
        const reset = {};
        Object.keys(dailyTasks).forEach(k => reset[k] = false);
        setDailyTasks(reset);
        setGameDevTask('');
        setVanActivity('');
        setReflection({ win: '', improve: '' });

        setTimeout(() => { if (allDone) checkLevelUp(); }, 500);
        if (currentDay % 7 === 0) setTimeout(() => setShowWeeklyReview(true), 1000);
      };

      const getDaysThisWeek = () => weeklyData.slice(-7);
      const getCompletionRate = () => weeklyData.length === 0 ? 0 : Math.round((weeklyData.filter(d => d.completed).length / weeklyData.length) * 100);
      const getWeeklyStats = () => {
        const w = getDaysThisWeek();
        return {
          completed: w.filter(d => d.completed).length,
          workouts: w.filter(d => d.tasks.workout).length,
          gameDevDays: w.filter(d => d.tasks.gameDev).length
        };
      };
      const getWarningLevel = () => consecutiveMisses >= 2 ? 'danger' : consecutiveMisses === 1 ? 'warning' : streak >= 7 ? 'fire' : 'normal';

      const warningLevel = getWarningLevel();
      const currentLevel = levels[level];
      const activeTasks = getActiveTasks();
      const todayIsWeekday = isWeekday();

      return (
        <div className="min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 p-4 pb-20">
          <div className="max-w-2xl mx-auto">
            
            {showBookComplete && (
              <div className="fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50">
                <div className="bg-gradient-to-br from-green-600 to-emerald-700 rounded-3xl p-8 max-w-md border-4 border-green-400">
                  <div className="text-center mb-6">
                    <div className="text-6xl mb-4">üìö</div>
                    <h2 className="text-3xl font-bold text-white mb-2">BOOK COMPLETE!</h2>
                    <p className="text-xl text-green-200 font-bold">{currentBook}</p>
                  </div>
                  <button onClick={() => setShowBookComplete(false)} className="w-full bg-white text-green-600 font-bold py-4 rounded-xl">
                    Continue üìö
                  </button>
                </div>
              </div>
            )}

            {showLevelUp && (
              <div className="fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50">
                <div className="bg-gradient-to-br from-yellow-600 via-orange-600 to-red-600 rounded-3xl p-8 max-w-md border-4 border-yellow-400">
                  <div className="text-center mb-6">
                    <div className="text-6xl mb-4">‚≠ê</div>
                    <h2 className="text-3xl font-bold text-white mb-2">LEVEL UP!</h2>
                    <p className="text-xl text-yellow-200 font-bold">LEVEL {level}: {levels[level].name}</p>
                  </div>
                  <div className="bg-black/30 rounded-xl p-4 mb-6">
                    <h3 className="text-white font-bold mb-3">You Unlocked:</h3>
                    {levels[level].newHabits.map((h, i) => (
                      <div key={i} className="text-white mb-2">
                        <span className="text-xl mr-2">{h.icon}</span>
                        <span className="font-semibold">{h.name}</span>
                      </div>
                    ))}
                  </div>
                  <button onClick={() => setShowLevelUp(false)} className="w-full bg-white text-orange-600 font-bold py-4 rounded-xl">
                    GO üî•
                  </button>
                </div>
              </div>
            )}

            {warningLevel === 'danger' && (
              <div className="bg-red-500/20 border-2 border-red-500 rounded-2xl p-4 mb-6">
                <div className="flex items-center gap-3">
                  <span className="text-2xl">‚ö†Ô∏è</span>
                  <div>
                    <h3 className="text-red-400 font-bold">EMERGENCY: {consecutiveMisses} Days Missed</h3>
                    <p className="text-white/90 text-sm">You said you wouldn't quit. Prove it TODAY.</p>
                  </div>
                </div>
              </div>
            )}

            {warningLevel === 'warning' && (
              <div className="bg-orange-500/20 border-2 border-orange-500 rounded-2xl p-4 mb-6">
                <div className="flex items-center gap-3">
                  <span className="text-2xl">‚ö†Ô∏è</span>
                  <div>
                    <h3 className="text-orange-400 font-bold">Warning: 1 Day Missed</h3>
                    <p className="text-white/90 text-sm">Get back on track now.</p>
                  </div>
                </div>
              </div>
            )}

            {warningLevel === 'fire' && (
              <div className="bg-green-500/20 border-2 border-green-500 rounded-2xl p-4 mb-6">
                <div className="flex items-center gap-3">
                  <span className="text-2xl">üèÜ</span>
                  <div>
                    <h3 className="text-green-400 font-bold">{streak} Day Streak!</h3>
                    <p className="text-white/90 text-sm">Unstoppable momentum.</p>
                  </div>
                </div>
              </div>
            )}

            <div className="bg-white/10 backdrop-blur-lg rounded-3xl p-6 mb-6 border border-white/20">
              <div className="flex items-center justify-between mb-3">
                <div className="flex items-center gap-2">
                  <div className="bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full font-bold text-xs">
                    LEVEL {level}
                  </div>
                  <div className={`px-3 py-1 rounded-full text-xs font-bold ${todayIsWeekday ? 'bg-blue-500/30 text-blue-200' : 'bg-green-500/30 text-green-200'}`}>
                    {todayIsWeekday ? 'üéí College' : 'üèñÔ∏è Free'}
                  </div>
                </div>
                <div className="flex items-center gap-2 text-orange-400">
                  <span className="text-xl">üî•</span>
                  <span className="text-xl font-bold">{streak}</span>
                </div>
              </div>

              <h1 className="text-2xl font-bold text-white mb-1">Day {currentDay}/90</h1>
              <p className="text-purple-200 text-xs mb-4">{currentLevel.name} ‚Ä¢ {currentLevel.wakeTime}</p>
              
              <div className="bg-white/5 rounded-xl p-3 mb-3">
                <div className="flex justify-between text-xs mb-2">
                  <span className="text-white/70">Level Progress</span>
                  <span className="text-white font-semibold">{perfectDaysAtLevel}/{currentLevel.unlockAt || '‚àû'}</span>
                </div>
                {currentLevel.unlockAt && (
                  <div className="w-full bg-white/10 rounded-full h-2 mb-3">
                    <div className="bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full transition-all"
                      style={{ width: `${(perfectDaysAtLevel / currentLevel.unlockAt) * 100}%` }}></div>
                  </div>
                )}
                <div className="flex justify-between text-xs mb-1">
                  <span className="text-white/70">Overall</span>
                  <span className="text-white">{getCompletionRate()}%</span>
                </div>
                <div className="w-full bg-white/10 rounded-full h-2">
                  <div className="bg-gradient-to-r from-green-400 to-emerald-500 h-2 rounded-full transition-all"
                    style={{ width: `${(currentDay / 90) * 100}%` }}></div>
                </div>
              </div>

              <div className="bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl p-3 border border-purple-400/30">
                <p className="text-white text-center text-xs italic">{getDailyMessage()}</p>
              </div>
            </div>

            <div className="bg-white/10 backdrop-blur-lg rounded-3xl p-5 mb-6 border border-white/20">
              <div className="flex items-center justify-between mb-3">
                <div className="flex items-center gap-2">
                  <span className="text-2xl">üìö</span>
                  <div>
                    <h3 className="text-white font-bold text-sm">Reading</h3>
                    <p className="text-white/60 text-xs">{currentBook}</p>
                  </div>
                </div>
                <button onClick={() => setCurrentBook(books[(books.indexOf(currentBook) + 1) % books.length])}
                  className="bg-white/10 hover:bg-white/20 text-white text-xs px-2 py-1 rounded">Switch</button>
              </div>
              <div className="bg-white/5 rounded-lg p-2">
                <div className="flex justify-between text-xs mb-1">
                  <span className="text-white/70">Progress</span>
                  <span className="text-white font-semibold">{bookProgress[currentBook]}%</span>
                </div>
                <div className="w-full bg-white/10 rounded-full h-2">
                  <div className="bg-gradient-to-r from-blue-400 to-cyan-500 h-2 rounded-full transition-all"
                    style={{ width: `${bookProgress[currentBook]}%` }}></div>
                </div>
              </div>
            </div>

            <div className="bg-white/10 backdrop-blur-lg rounded-3xl p-5 mb-6 border border-white/20">
              <h2 className="text-xl font-bold text-white mb-2 flex items-center gap-2">
                <span>üéØ</span> Today's Tasks
              </h2>
              <p className="text-white/60 text-xs mb-4">{currentLevel.description}</p>
              
              <div className="space-y-3">
                {activeTasks.map(task => {
                  const taskInfo = {
                    earlyWake: { emoji: '‚è∞', title: '4:45 AM Wake', desc: 'No snooze', border: 'border-orange-500/50' },
                    workout: { emoji: 'üí™', title: 'Workout', desc: currentLevel.workout },
                    vanTime: { emoji: 'üöê', title: 'Van Time', desc: '6:50-8:00 - TED/Study', border: 'border-cyan-500/50', hasInput: true, inputValue: vanActivity, inputChange: setVanActivity, inputPlaceholder: 'What did you do?' },
                    gameDev: { emoji: 'üéÆ', title: 'Game Dev', desc: '1 hour focused', hasInput: true, inputValue: gameDevTask, inputChange: setGameDevTask, inputPlaceholder: "Today's task?" },
                    reading: { emoji: 'üìö', title: '15min Reading', desc: currentBook, border: 'border-blue-500/50' },
                    waterIntake: { emoji: 'üíß', title: '2L Water', desc: 'Track all day' },
                    meditation: { emoji: 'üßò', title: '10min Meditation', desc: 'Morning clarity' },
                    skillLearning: { emoji: 'üíª', title: 'Extra Skill', desc: '2nd learning block' },
                    socialSkills: { emoji: 'üí¨', title: 'Social Practice', desc: 'Conversation' },
                    sleep: { emoji: 'üò¥', title: 'Sleep 10:30 PM', desc: 'Check tomorrow morning' }
                  };

                  const info = taskInfo[task];
                  if (!info) return null;

                  return (
                    <React.Fragment key={task}>
                      <div onClick={() => toggleTask(task)}
                        className={`bg-white/5 rounded-xl p-3 cursor-pointer hover:bg-white/10 transition-all ${info.border ? `border ${info.border}` : ''}`}>
                        <div className="flex items-center gap-3">
                          <span className="text-2xl">{dailyTasks[task] ? '‚úÖ' : '‚≠ï'}</span>
                          <div className="flex-1">
                            <h3 className="text-white font-semibold text-sm">{info.emoji} {info.title}</h3>
                            <p className="text-white/60 text-xs">{info.desc}</p>
                          </div>
                        </div>
                      </div>
                      {info.hasInput && (
                        <div className="bg-white/5 rounded-lg p-3">
                          <input type="text" value={info.inputValue}
                            onChange={(e) => info.inputChange(e.target.value)}
                            placeholder={info.inputPlaceholder}
                            className="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/40 focus:outline-none text-xs" />
                        </div>
                      )}
                    </React.Fragment>
                  );
                })}
              </div>
            </div>

            <div className="bg-white/10 backdrop-blur-lg rounded-3xl p-5 mb-6 border border-white/20">
              <h2 className="text-xl font-bold text-white mb-4">Evening Reflection</h2>
              <div className="space-y-3">
                <div>
                  <label className="text-green-400 text-xs font-semibold block mb-2">‚úÖ One win today</label>
                  <input type="text" value={reflection.win}
                    onChange={(e) => setReflection(p => ({ ...p, win: e.target.value }))}
                    placeholder="What did you do well?"
                    className="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/40 focus:outline-none text-sm" />
                </div>
                <div>
                  <label className="text-orange-400 text-xs font-semibold block mb-2">üéØ Improve tomorrow</label>
                  <input type="text" value={reflection.improve}
                    onChange={(e) => setReflection(p => ({ ...p, improve: e.target.value }))}
                    placeholder="What will you do better?"
                    className="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/40 focus:outline-none text-sm" />
                </div>
              </div>
            </div>

            <button onClick={completeDay}
              disabled={!activeTasks.every(t => dailyTasks[t]) || !gameDevTask || !reflection.win}
              className="w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-4 rounded-2xl hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 mb-6">
              {activeTasks.every(t => dailyTasks[t]) && gameDevTask && reflection.win ? 'üéâ Complete Day' : '‚è≥ Complete tasks first'}
            </button>

            {level < 4 && (
              <div className="bg-gradient-to-br from-yellow-900/30 to-orange-900/30 backdrop-blur-lg rounded-3xl p-5 mb-6 border-2 border-yellow-600/50">
                <div className="flex items-center gap-3 mb-3">
                  <span className="text-2xl">üîí</span>
                  <div>
                    <h2 className="text-lg font-bold text-yellow-400">NEXT: Level {level + 1}</h2>
                    <p className="text-white/70 text-xs">{levels[level + 1].name}</p>
                  </div>
                </div>
                <p className="text-white/80 text-sm mb-3">{levels[level + 1].description}</p>
                <div className="bg-black/30 rounded-xl p-3 mb-3">
                  <p className="text-white/90 text-xs font-semibold mb-2">Unlocks:</p>
                  {levels[level + 1].newHabits.map((h, i) => (
                    <p key={i} className="text-white/70 text-xs">‚Ä¢ {h.name}</p>
                  ))}
                </div>
                <div className="flex items-center justify-between bg-black/30 rounded-xl p-3">
                  <span className="text-white/70 text-xs">Progress:</span>
                  <span className="text-yellow-400 font-bold text-sm">{perfectDaysAtLevel}/{currentLevel.unlockAt}</span>
                </div>
              </div>
            )}

            {getDaysThisWeek().length > 0 && (
              <div className="bg-white/10 backdrop-blur-lg rounded-3xl p-5 mb-6 border border-white/20">
                <h2 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                  <span>üìÖ</span> This Week
                </h2>
                <div className="grid grid-cols-4 gap-3 mb-4">
                  <div className="bg-white/5 rounded-xl p-2 text-center">
                    <div className="text-xl font-bold text-green-400">{getWeeklyStats().completed}</div>
                    <div className="text-white/60 text-xs">Perfect</div>
                  </div>
                  <div className="bg-white/5 rounded-xl p-2 text-center">
                    <div className="text-xl font-bold text-blue-400">{getWeeklyStats().workouts}</div>
                    <div className="text-white/60 text-xs">Workouts</div>
                  </div>
                  <div className="bg-white/5 rounded-xl p-2 text-center">
                    <div className="text-xl font-bold text-purple-400">{getWeeklyStats().gameDevDays}</div>
                    <div className="text-white/60 text-xs">GameDev</div>
                  </div>
                  <div className="bg-white/5 rounded-xl p-2 text-center">
                    <div className="text-xl font-bold text-orange-400">{streak}</div>
                    <div className="text-white/60 text-xs">Streak</div>
                  </div>
                </div>
                <div className="grid grid-cols-7 gap-2">
                  {getDaysThisWeek().map((d, i) => (
                    <div key={i} className="text-center">
                      <div className={`w-10 h-10 rounded-full flex items-centerjustify-center ${d.completed ? 'bg-green-500' : 'bg-red-500/50'}`}>
                        <span className="text-white text-xs font-bold">{d.day}</span>
                      </div>
                      <span className="text-white/40 text-xs">L{d.level}</span>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {showWeeklyReview && (
              <div className="fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50">
                <div className="bg-gradient-to-br from-purple-900 to-indigo-900 rounded-3xl p-8 max-w-md border-2 border-purple-400">
                  <div className="text-center mb-6">
                    <div className="text-6xl mb-4">üèÜ</div>
                    <h2 className="text-2xl font-bold text-white mb-2">Week {Math.floor(currentDay / 7)} Complete!</h2>
                    <p className="text-purple-200 text-sm">Time for reflection</p>
                  </div>
                  <div className="space-y-4 mb-6">
                    <div className="bg-white/10 rounded-xl p-4">
                      <h3 className="text-white font-semibold mb-2 text-sm">This Week:</h3>
                      <p className="text-white/80 text-xs">‚úÖ {getWeeklyStats().completed} perfect days</p>
                      <p className="text-white/80 text-xs">üí™ {getWeeklyStats().workouts} workouts</p>
                      <p className="text-white/80 text-xs">üéÆ {getWeeklyStats().gameDevDays} game dev</p>
                      <p className="text-white/80 text-xs">‚≠ê Level {level}</p>
                    </div>
                    <div className="bg-white/10 rounded-xl p-4">
                      <h3 className="text-white font-semibold mb-2 text-sm">Ask yourself:</h3>
                      <ul className="text-white/80 text-xs space-y-1">
                        <li>‚Ä¢ Did I give my best?</li>
                        <li>‚Ä¢ What held me back?</li>
                        <li>‚Ä¢ What will I improve?</li>
                        <li>‚Ä¢ Am I closer to my vision?</li>
                      </ul>
                    </div>
                  </div>
                  <button onClick={() => setShowWeeklyReview(false)}
                    className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 rounded-xl">
                    Week {Math.floor(currentDay / 7) + 1} - Let's Go
                  </button>
                </div>
              </div>
            )}

            <div className="bg-gradient-to-r from-orange-500/20 to-pink-500/20 backdrop-blur-lg rounded-3xl p-5 border border-orange-400/30">
              <div className="text-center">
                <span className="text-3xl mb-3 block">üìñ</span>
                <p className="text-white font-semibold mb-2 text-sm">Remember Your Why</p>
                <p className="text-white/80 text-xs italic">
                  "I want to be me who I vision to be. If this doesn't happen, I will never get to live the life I want."
                </p>
                <p className="text-white/60 text-xs mt-3">
                  Level {level} ‚Ä¢ Day {currentDay} ‚Ä¢ Every checkbox counts
                </p>
              </div>
            </div>

          </div>
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(() => {});
    }
  </script>
</body>
</html>